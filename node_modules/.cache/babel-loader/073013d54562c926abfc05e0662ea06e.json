{"ast":null,"code":"import useVuelidate from \"@vuelidate/core\";\nimport { required, email } from \"@vuelidate/validators\";\nimport ViaCepAPI from \"@/services/viacep\";\nimport CheckoutSuccess from \"@/components/CheckoutSuccess.vue\";\nexport default {\n  setup() {\n    return {\n      v$: useVuelidate()\n    };\n  },\n\n  components: {\n    CheckoutSuccess\n  },\n\n  data() {\n    return {\n      cepError: false,\n      viewSuccessModal: false,\n      name: \"\",\n      email: \"\",\n      cpf: \"\",\n      birthday: \"\",\n      tel: \"\",\n      address: {\n        cep: \"\",\n        completeAddress: \"\",\n        number: \"\",\n        complement: \"\",\n        district: \"\",\n        city: \"\",\n        state: \"\"\n      }\n    };\n  },\n\n  validations() {\n    return {\n      name: {\n        required\n      },\n      email: {\n        required,\n        email\n      },\n      cpf: {\n        required\n      },\n      birthday: {\n        required\n      },\n      tel: {\n        required\n      },\n      address: {\n        cep: {\n          required\n        },\n        completeAddress: {\n          required\n        },\n        number: {\n          required\n        },\n        complement: {},\n        district: {\n          required\n        },\n        city: {\n          required\n        },\n        state: {\n          required\n        }\n      }\n    };\n  },\n\n  methods: {\n    getCep: () => {\n      ViaCepAPI.getCep(this.address.cep).then(response => {\n        if (!response.data.erro) {\n          this.cepError = false;\n          const {\n            bairro,\n            complemento,\n            localidade,\n            logradouro,\n            uf,\n            cep\n          } = response.data;\n          this.address = {\n            cep: cep,\n            completeAddress: logradouro,\n            complement: complemento,\n            district: bairro,\n            city: localidade,\n            state: uf\n          };\n        } else {\n          this.cepError = true;\n        }\n\n        console.log(response);\n      });\n    },\n    closeModal: () => {\n      this.viewSuccessModal = false;\n    },\n    submitForm: async () => {\n      const isFormCorrect = await this.v$.$validate();\n\n      if (isFormCorrect) {}\n    }\n  }\n};","map":{"version":3,"mappings":"AAmHA,OAAOA,YAAP,MAAyB,iBAAzB;AACA,SAASC,QAAT,EAAmBC,KAAnB,QAAgC,uBAAhC;AACA,OAAOC,SAAP,MAAsB,mBAAtB;AACA,OAAOC,eAAP,MAA4B,kCAA5B;AAEA,eAAe;AACbC,OAAK,GAAG;AACN,WAAO;AAAEC,QAAE,EAAEN,YAAY;AAAlB,KAAP;AACD,GAHY;;AAIbO,YAAU,EAAE;AACVH;AADU,GAJC;;AAQbI,MAAI,GAAG;AACL,WAAO;AACLC,cAAQ,EAAE,KADL;AAELC,sBAAgB,EAAE,KAFb;AAGLC,UAAI,EAAE,EAHD;AAILT,WAAK,EAAE,EAJF;AAKLU,SAAG,EAAE,EALA;AAMLC,cAAQ,EAAE,EANL;AAOLC,SAAG,EAAE,EAPA;AAQLC,aAAO,EAAE;AACPC,WAAG,EAAE,EADE;AAEPC,uBAAe,EAAE,EAFV;AAGPC,cAAM,EAAE,EAHD;AAIPC,kBAAU,EAAE,EAJL;AAKPC,gBAAQ,EAAE,EALH;AAMPC,YAAI,EAAE,EANC;AAOPC,aAAK,EAAE;AAPA;AARJ,KAAP;AAkBD,GA3BY;;AA4BbC,aAAW,GAAG;AACZ,WAAO;AACLZ,UAAI,EAAE;AAAEV;AAAF,OADD;AAELC,WAAK,EAAE;AAAED,gBAAF;AAAYC;AAAZ,OAFF;AAGLU,SAAG,EAAE;AAAEX;AAAF,OAHA;AAILY,cAAQ,EAAE;AAAEZ;AAAF,OAJL;AAKLa,SAAG,EAAE;AAAEb;AAAF,OALA;AAMLc,aAAO,EAAE;AACPC,WAAG,EAAE;AAAEf;AAAF,SADE;AAEPgB,uBAAe,EAAE;AAAEhB;AAAF,SAFV;AAGPiB,cAAM,EAAE;AAAEjB;AAAF,SAHD;AAIPkB,kBAAU,EAAE,EAJL;AAKPC,gBAAQ,EAAE;AAAEnB;AAAF,SALH;AAMPoB,YAAI,EAAE;AAAEpB;AAAF,SANC;AAOPqB,aAAK,EAAE;AAAErB;AAAF;AAPA;AANJ,KAAP;AAgBD,GA7CY;;AA8CbuB,SAAO,EAAE;AACPC,UAAM,EAAE,MAAM;AACZtB,eAAS,CAACsB,MAAV,CAAiB,KAAKV,OAAL,CAAaC,GAA9B,EAAmCU,IAAnC,CAAyCC,QAAD,IAAc;AACpD,YAAI,CAACA,QAAQ,CAACnB,IAAT,CAAcoB,IAAnB,EAAyB;AACvB,eAAKnB,QAAL,GAAgB,KAAhB;AACA,gBAAM;AAAEoB,kBAAF;AAAUC,uBAAV;AAAuBC,sBAAvB;AAAmCC,sBAAnC;AAA+CC,cAA/C;AAAmDjB;AAAnD,cACJW,QAAQ,CAACnB,IADX;AAEA,eAAKO,OAAL,GAAe;AACbC,eAAG,EAAEA,GADQ;AAEbC,2BAAe,EAAEe,UAFJ;AAGbb,sBAAU,EAAEW,WAHC;AAIbV,oBAAQ,EAAES,MAJG;AAKbR,gBAAI,EAAEU,UALO;AAMbT,iBAAK,EAAEW;AANM,WAAf;AAQF,SAZA,MAYO;AACL,eAAKxB,QAAL,GAAgB,IAAhB;AACF;;AACAyB,eAAO,CAACC,GAAR,CAAYR,QAAZ;AACD,OAjBD;AAkBD,KApBM;AAsBPS,cAAU,EAAE,MAAM;AAChB,WAAK1B,gBAAL,GAAwB,KAAxB;AACD,KAxBM;AA0BP2B,cAAU,EAAE,YAAY;AACtB,YAAMC,aAAY,GAAI,MAAM,KAAKhC,EAAL,CAAQiC,SAAR,EAA5B;;AACA,UAAID,aAAJ,EAAmB,CACnB;AACD;AA9BM;AA9CI,CAAf","names":["useVuelidate","required","email","ViaCepAPI","CheckoutSuccess","setup","v$","components","data","cepError","viewSuccessModal","name","cpf","birthday","tel","address","cep","completeAddress","number","complement","district","city","state","validations","methods","getCep","then","response","erro","bairro","complemento","localidade","logradouro","uf","console","log","closeModal","submitForm","isFormCorrect","$validate"],"sourceRoot":"","sources":["C:\\Users\\dragu\\Dev\\Desafios\\ow-interactive-desafio\\src\\views\\CheckoutPage.vue"],"sourcesContent":["<template>\r\n  <section class=\"container checkout\">\r\n    <form @submit.prevent=\"submitForm\">\r\n      <div class=\"row\">\r\n        <div class=\"col-12 col-md-6\">\r\n          <div class=\"row\">\r\n            <div class=\"col-12\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">Nome *</label>\r\n                <input type=\"text\" v-model=\"v$.name.$model\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">E-mail *</label>\r\n                <input type=\"email\" v-model=\"v$.email.$model\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">CPF *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  v-model=\"v$.cpf.$model\"\r\n                  v-maska=\"'###.###.###-##'\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-6\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">Data de Nascimento *</label>\r\n                <input type=\"date\" v-model=\"v$.birthday.$model\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-6\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">Telefone *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  v-model=\"v$.tel.$model\"\r\n                  v-maska=\"'(##) #####-####'\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-12 col-md-6\">\r\n          <div class=\"row\">\r\n            <div class=\"col-12\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">CEP *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  v-maska=\"'#####-###'\"\r\n                  v-model=\"v$.address.cep.$model\"\r\n                  @change=\"getCep\"\r\n                />\r\n                <span v-if=\"cepError\">CEP não encontrado!</span>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-8\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">Endereço *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  v-model=\"v$.address.completeAddress.$model\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-4\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">Número *</label>\r\n                <input type=\"text\" v-model=\"v$.address.number.$model\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-6\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">Complemento</label>\r\n                <input type=\"text\" v-model=\"v$.address.complement.$model\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-6\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">Bairro *</label>\r\n                <input type=\"text\" v-model=\"v$.address.district.$model\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-8\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">Cidade *</label>\r\n                <input type=\"text\" v-model=\"v$.address.city.$model\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-4\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">Estado *</label>\r\n                <input type=\"text\" v-model=\"v$.address.state.$model\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"row justify-content-end\">\r\n        <div class=\"col-12 col-sm-2\">\r\n          <button :disabled=\"v$.$invalid\" class=\"checkout__button\">\r\n            Concluir compra\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </section>\r\n  <!-- <CheckoutSuccess v-on=\"closeModal\" v-if=\"viewSuccessModal\"></CheckoutSuccess> -->\r\n</template>\r\n\r\n<script>\r\nimport useVuelidate from \"@vuelidate/core\";\r\nimport { required, email } from \"@vuelidate/validators\";\r\nimport ViaCepAPI from \"@/services/viacep\";\r\nimport CheckoutSuccess from \"@/components/CheckoutSuccess.vue\";\r\n\r\nexport default {\r\n  setup() {\r\n    return { v$: useVuelidate() };\r\n  },\r\n  components: {\r\n    CheckoutSuccess,\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      cepError: false,\r\n      viewSuccessModal: false,\r\n      name: \"\",\r\n      email: \"\",\r\n      cpf: \"\",\r\n      birthday: \"\",\r\n      tel: \"\",\r\n      address: {\r\n        cep: \"\",\r\n        completeAddress: \"\",\r\n        number: \"\",\r\n        complement: \"\",\r\n        district: \"\",\r\n        city: \"\",\r\n        state: \"\",\r\n      },\r\n    };\r\n  },\r\n  validations() {\r\n    return {\r\n      name: { required },\r\n      email: { required, email },\r\n      cpf: { required },\r\n      birthday: { required },\r\n      tel: { required },\r\n      address: {\r\n        cep: { required },\r\n        completeAddress: { required },\r\n        number: { required },\r\n        complement: {},\r\n        district: { required },\r\n        city: { required },\r\n        state: { required },\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    getCep: () => {\r\n      ViaCepAPI.getCep(this.address.cep).then((response) => {\r\n        if (!response.data.erro) {\r\n          this.cepError = false;\r\n          const { bairro, complemento, localidade, logradouro, uf, cep } =\r\n            response.data;\r\n          this.address = {\r\n            cep: cep,\r\n            completeAddress: logradouro,\r\n            complement: complemento,\r\n            district: bairro,\r\n            city: localidade,\r\n            state: uf,\r\n          };\r\n        } else {\r\n          this.cepError = true;\r\n        }\r\n        console.log(response);\r\n      });\r\n    },\r\n\r\n    closeModal: () => {\r\n      this.viewSuccessModal = false;\r\n    },\r\n\r\n    submitForm: async () => {\r\n      const isFormCorrect = await this.v$.$validate();\r\n      if (isFormCorrect) {\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.checkout {\r\n  flex: 1;\r\n  margin-top: 64px;\r\n  &__group {\r\n    margin-top: 24px;\r\n    label {\r\n      font-weight: 600;\r\n      display: block;\r\n      color: #434343;\r\n    }\r\n    input {\r\n      color: #434343;\r\n      width: 100%;\r\n      outline: none;\r\n      border: 1px solid #909090;\r\n      border-radius: 4px;\r\n      padding: 4px 8px;\r\n    }\r\n    span {\r\n      font-size: 12px;\r\n      color: #c31717;\r\n    }\r\n  }\r\n  &__button {\r\n    width: 100%;\r\n    border-radius: 4px;\r\n    padding: 8px 16px;\r\n    background: #8e36b7;\r\n    border: 1px solid #8e36b7;\r\n    color: #fff;\r\n    margin-top: 24px;\r\n\r\n    &:disabled {\r\n      opacity: 0.6;\r\n      cursor: not-allowed;\r\n    }\r\n  }\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}