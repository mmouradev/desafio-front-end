{"ast":null,"code":"import useVuelidate from \"@vuelidate/core\";\nimport { required, email } from \"@vuelidate/validators\";\nimport ViaCepAPI from \"@/services/viacep\";\nexport default {\n  setup() {\n    return {\n      v$: useVuelidate()\n    };\n  },\n\n  data() {\n    return {\n      name: \"\",\n      email: \"\",\n      cpf: \"\",\n      birthday: \"\",\n      tel: \"\",\n      address: {\n        cep: \"\",\n        completeAddress: \"\",\n        number: \"\",\n        complement: \"\",\n        district: \"\",\n        city: \"\",\n        state: \"\"\n      }\n    };\n  },\n\n  validations() {\n    return {\n      name: {\n        required\n      },\n      email: {\n        required,\n        email\n      },\n      cpf: {\n        required\n      },\n      birthday: {\n        required\n      },\n      tel: {\n        required\n      },\n      address: {\n        cep: {\n          required\n        },\n        completeAddress: {\n          required\n        },\n        number: {\n          required\n        },\n        complement: {},\n        district: {\n          required\n        },\n        city: {\n          required\n        },\n        state: {\n          required\n        }\n      }\n    };\n  },\n\n  methods: {\n    getCep() {\n      ViaCepAPI.getCep(this.v$.address.cep).then(response => {\n        const {\n          bairro,\n          complemento,\n          localidade,\n          logradouro,\n          uf\n        } = response.data;\n        this.v$.address = {\n          completeAddress: logradouro,\n          complement: complemento,\n          district: bairro,\n          city: localidade,\n          state: uf\n        };\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA8GA,OAAOA,YAAP,MAAyB,iBAAzB;AACA,SAASC,QAAT,EAAmBC,KAAnB,QAAgC,uBAAhC;AACA,OAAOC,SAAP,MAAsB,mBAAtB;AAEA,eAAe;AACbC,OAAK,GAAG;AACN,WAAO;AAAEC,QAAE,EAAEL,YAAY;AAAlB,KAAP;AACD,GAHY;;AAKbM,MAAI,GAAG;AACL,WAAO;AACLC,UAAI,EAAE,EADD;AAELL,WAAK,EAAE,EAFF;AAGLM,SAAG,EAAE,EAHA;AAILC,cAAQ,EAAE,EAJL;AAKLC,SAAG,EAAE,EALA;AAMLC,aAAO,EAAE;AACPC,WAAG,EAAE,EADE;AAEPC,uBAAe,EAAE,EAFV;AAGPC,cAAM,EAAE,EAHD;AAIPC,kBAAU,EAAE,EAJL;AAKPC,gBAAQ,EAAE,EALH;AAMPC,YAAI,EAAE,EANC;AAOPC,aAAK,EAAE;AAPA;AANJ,KAAP;AAgBD,GAtBY;;AAuBbC,aAAW,GAAG;AACZ,WAAO;AACLZ,UAAI,EAAE;AAAEN;AAAF,OADD;AAELC,WAAK,EAAE;AAAED,gBAAF;AAAYC;AAAZ,OAFF;AAGLM,SAAG,EAAE;AAAEP;AAAF,OAHA;AAILQ,cAAQ,EAAE;AAAER;AAAF,OAJL;AAKLS,SAAG,EAAE;AAAET;AAAF,OALA;AAMLU,aAAO,EAAE;AACPC,WAAG,EAAE;AAAEX;AAAF,SADE;AAEPY,uBAAe,EAAE;AAAEZ;AAAF,SAFV;AAGPa,cAAM,EAAE;AAAEb;AAAF,SAHD;AAIPc,kBAAU,EAAE,EAJL;AAKPC,gBAAQ,EAAE;AAAEf;AAAF,SALH;AAMPgB,YAAI,EAAE;AAAEhB;AAAF,SANC;AAOPiB,aAAK,EAAE;AAAEjB;AAAF;AAPA;AANJ,KAAP;AAgBD,GAxCY;;AAyCbmB,SAAO,EAAE;AACPC,UAAM,GAAG;AACPlB,eAAS,CAACkB,MAAV,CAAiB,KAAKhB,EAAL,CAAQM,OAAR,CAAgBC,GAAjC,EAAsCU,IAAtC,CAA4CC,QAAD,IAAc;AACvD,cAAM;AAAEC,gBAAF;AAAUC,qBAAV;AAAuBC,oBAAvB;AAAmCC,oBAAnC;AAA+CC;AAA/C,YACJL,QAAQ,CAACjB,IADX;AAEA,aAAKD,EAAL,CAAQM,OAAR,GAAkB;AAChBE,yBAAe,EAAEc,UADD;AAEhBZ,oBAAU,EAAEU,WAFI;AAGhBT,kBAAQ,EAAEQ,MAHM;AAIhBP,cAAI,EAAES,UAJU;AAKhBR,eAAK,EAAEU;AALS,SAAlB;AAOD,OAVD;AAWD;;AAbM;AAzCI,CAAf","names":["useVuelidate","required","email","ViaCepAPI","setup","v$","data","name","cpf","birthday","tel","address","cep","completeAddress","number","complement","district","city","state","validations","methods","getCep","then","response","bairro","complemento","localidade","logradouro","uf"],"sourceRoot":"","sources":["C:\\Users\\dragu\\Dev\\Desafios\\ow-interactive-desafio\\src\\views\\CheckoutPage.vue"],"sourcesContent":["<template>\r\n  <section class=\"container checkout\">\r\n    <form @submit.prevent=\"onSubmit\">\r\n      <div class=\"row\">\r\n        <div class=\"col-12 col-md-6\">\r\n          <div class=\"row\">\r\n            <div class=\"col-12\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">Nome *</label>\r\n                <input type=\"text\" v-model=\"v$.name.$model\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">E-mail *</label>\r\n                <input type=\"email\" v-model=\"v$.email.$model\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">CPF *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  v-model=\"v$.cpf.$model\"\r\n                  v-maska=\"'###.###.###-##'\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-6\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">Data de Nascimento *</label>\r\n                <input type=\"date\" v-model=\"v$.birthday.$model\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-6\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">Telefone *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  v-model=\"v$.tel.$model\"\r\n                  v-maska=\"'(##) #####-####'\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-12 col-md-6\">\r\n          <div class=\"row\">\r\n            <div class=\"col-12\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">CEP *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  v-maska=\"'#####-###'\"\r\n                  v-model=\"v$.address.cep\"\r\n                  @change=\"getCep\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-8\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">Endereço *</label>\r\n                <input type=\"text\" v-model=\"v$.address.completeAddress\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-4\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">Número *</label>\r\n                <input type=\"text\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-6\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">Complemento *</label>\r\n                <input type=\"text\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-6\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">Bairro *</label>\r\n                <input type=\"text\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-8\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">Cidade *</label>\r\n                <input type=\"text\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-4\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">Estado *</label>\r\n                <input type=\"text\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"row justify-content-end\">\r\n        <div class=\"col-12 col-sm-2\">\r\n          <button :disabled=\"v$.$invalid\" class=\"checkout__button\">\r\n            Concluir compra\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport useVuelidate from \"@vuelidate/core\";\r\nimport { required, email } from \"@vuelidate/validators\";\r\nimport ViaCepAPI from \"@/services/viacep\";\r\n\r\nexport default {\r\n  setup() {\r\n    return { v$: useVuelidate() };\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      name: \"\",\r\n      email: \"\",\r\n      cpf: \"\",\r\n      birthday: \"\",\r\n      tel: \"\",\r\n      address: {\r\n        cep: \"\",\r\n        completeAddress: \"\",\r\n        number: \"\",\r\n        complement: \"\",\r\n        district: \"\",\r\n        city: \"\",\r\n        state: \"\",\r\n      },\r\n    };\r\n  },\r\n  validations() {\r\n    return {\r\n      name: { required },\r\n      email: { required, email },\r\n      cpf: { required },\r\n      birthday: { required },\r\n      tel: { required },\r\n      address: {\r\n        cep: { required },\r\n        completeAddress: { required },\r\n        number: { required },\r\n        complement: {},\r\n        district: { required },\r\n        city: { required },\r\n        state: { required },\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    getCep() {\r\n      ViaCepAPI.getCep(this.v$.address.cep).then((response) => {\r\n        const { bairro, complemento, localidade, logradouro, uf } =\r\n          response.data;\r\n        this.v$.address = {\r\n          completeAddress: logradouro,\r\n          complement: complemento,\r\n          district: bairro,\r\n          city: localidade,\r\n          state: uf,\r\n        };\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.checkout {\r\n  flex: 1;\r\n  margin-top: 64px;\r\n  &__group {\r\n    margin-top: 24px;\r\n    label {\r\n      font-weight: 600;\r\n      display: block;\r\n      color: #434343;\r\n    }\r\n    input {\r\n      color: #434343;\r\n      width: 100%;\r\n      outline: none;\r\n      border: 1px solid #909090;\r\n      border-radius: 4px;\r\n      padding: 4px 8px;\r\n    }\r\n  }\r\n  &__button {\r\n    width: 100%;\r\n    border-radius: 4px;\r\n    padding: 8px 16px;\r\n    background: #8e36b7;\r\n    border: 1px solid #8e36b7;\r\n    color: #fff;\r\n    margin-top: 24px;\r\n\r\n    &:disabled {\r\n      opacity: 0.6;\r\n      cursor: not-allowed;\r\n    }\r\n  }\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}