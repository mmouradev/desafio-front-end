{"ast":null,"code":"import useVuelidate from \"@vuelidate/core\";\nimport { required, email } from \"@vuelidate/validators\";\nimport ViaCepAPI from \"@/services/viacep\";\nimport CheckoutSuccess from \"@/components/CheckoutSuccess.vue\";\nexport default {\n  components: {\n    CheckoutSuccess\n  },\n\n  setup() {\n    return {\n      v$: useVuelidate()\n    };\n  },\n\n  data() {\n    return {\n      name: \"\",\n      email: \"\",\n      cpf: \"\",\n      birthday: \"\",\n      tel: \"\",\n      address: {\n        cep: \"\",\n        completeAddress: \"\",\n        number: \"\",\n        complement: \"\",\n        district: \"\",\n        city: \"\",\n        state: \"\"\n      },\n      cepError: false,\n      viewSuccessModal: false\n    };\n  },\n\n  validations() {\n    return {\n      name: {\n        required\n      },\n      email: {\n        required,\n        email\n      },\n      cpf: {\n        required\n      },\n      birthday: {\n        required\n      },\n      tel: {\n        required\n      },\n      address: {\n        cep: {\n          required\n        },\n        completeAddress: {\n          required\n        },\n        number: {\n          required\n        },\n        complement: {},\n        district: {\n          required\n        },\n        city: {\n          required\n        },\n        state: {\n          required\n        }\n      }\n    };\n  },\n\n  methods: {\n    closeModal() {\n      this.viewSuccessModal = false;\n    },\n\n    getCep() {\n      ViaCepAPI.getCep(this.address.cep).then(response => {\n        if (!response.data.erro) {\n          this.cepError = false;\n          const {\n            bairro,\n            complemento,\n            localidade,\n            logradouro,\n            uf,\n            cep\n          } = response.data;\n          this.address = {\n            cep: cep,\n            completeAddress: logradouro,\n            complement: complemento,\n            district: bairro,\n            city: localidade,\n            state: uf\n          };\n        } else {\n          this.cepError = true;\n        }\n\n        console.log(response);\n      });\n    },\n\n    async submitForm() {\n      const isFormCorrect = await this.v$.$validate();\n\n      if (isFormCorrect) {\n        this.viewSuccessModal = true;\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAmHA,OAAOA,YAAP,MAAyB,iBAAzB;AACA,SAASC,QAAT,EAAmBC,KAAnB,QAAgC,uBAAhC;AACA,OAAOC,SAAP,MAAsB,mBAAtB;AACA,OAAOC,eAAP,MAA4B,kCAA5B;AAEA,eAAe;AACbC,YAAU,EAAE;AACVD;AADU,GADC;;AAKbE,OAAK,GAAG;AACN,WAAO;AAAEC,QAAE,EAAEP,YAAY;AAAlB,KAAP;AACD,GAPY;;AASbQ,MAAI,GAAG;AACL,WAAO;AACLC,UAAI,EAAE,EADD;AAELP,WAAK,EAAE,EAFF;AAGLQ,SAAG,EAAE,EAHA;AAILC,cAAQ,EAAE,EAJL;AAKLC,SAAG,EAAE,EALA;AAMLC,aAAO,EAAE;AACPC,WAAG,EAAE,EADE;AAEPC,uBAAe,EAAE,EAFV;AAGPC,cAAM,EAAE,EAHD;AAIPC,kBAAU,EAAE,EAJL;AAKPC,gBAAQ,EAAE,EALH;AAMPC,YAAI,EAAE,EANC;AAOPC,aAAK,EAAE;AAPA,OANJ;AAeLC,cAAQ,EAAE,KAfL;AAgBLC,sBAAgB,EAAE;AAhBb,KAAP;AAkBD,GA5BY;;AA8BbC,aAAW,GAAG;AACZ,WAAO;AACLd,UAAI,EAAE;AAAER;AAAF,OADD;AAELC,WAAK,EAAE;AAAED,gBAAF;AAAYC;AAAZ,OAFF;AAGLQ,SAAG,EAAE;AAAET;AAAF,OAHA;AAILU,cAAQ,EAAE;AAAEV;AAAF,OAJL;AAKLW,SAAG,EAAE;AAAEX;AAAF,OALA;AAMLY,aAAO,EAAE;AACPC,WAAG,EAAE;AAAEb;AAAF,SADE;AAEPc,uBAAe,EAAE;AAAEd;AAAF,SAFV;AAGPe,cAAM,EAAE;AAAEf;AAAF,SAHD;AAIPgB,kBAAU,EAAE,EAJL;AAKPC,gBAAQ,EAAE;AAAEjB;AAAF,SALH;AAMPkB,YAAI,EAAE;AAAElB;AAAF,SANC;AAOPmB,aAAK,EAAE;AAAEnB;AAAF;AAPA;AANJ,KAAP;AAgBD,GA/CY;;AAiDbuB,SAAO,EAAE;AACPC,cAAU,GAAG;AACX,WAAKH,gBAAL,GAAwB,KAAxB;AACD,KAHM;;AAKPI,UAAM,GAAG;AACPvB,eAAS,CAACuB,MAAV,CAAiB,KAAKb,OAAL,CAAaC,GAA9B,EAAmCa,IAAnC,CAAyCC,QAAD,IAAc;AACpD,YAAI,CAACA,QAAQ,CAACpB,IAAT,CAAcqB,IAAnB,EAAyB;AACvB,eAAKR,QAAL,GAAgB,KAAhB;AACA,gBAAM;AAAES,kBAAF;AAAUC,uBAAV;AAAuBC,sBAAvB;AAAmCC,sBAAnC;AAA+CC,cAA/C;AAAmDpB;AAAnD,cACJc,QAAQ,CAACpB,IADX;AAEA,eAAKK,OAAL,GAAe;AACbC,eAAG,EAAEA,GADQ;AAEbC,2BAAe,EAAEkB,UAFJ;AAGbhB,sBAAU,EAAEc,WAHC;AAIbb,oBAAQ,EAAEY,MAJG;AAKbX,gBAAI,EAAEa,UALO;AAMbZ,iBAAK,EAAEc;AANM,WAAf;AAQF,SAZA,MAYO;AACL,eAAKb,QAAL,GAAgB,IAAhB;AACF;;AACAc,eAAO,CAACC,GAAR,CAAYR,QAAZ;AACD,OAjBD;AAkBD,KAxBM;;AA0BP,UAAMS,UAAN,GAAmB;AACjB,YAAMC,aAAY,GAAI,MAAM,KAAK/B,EAAL,CAAQgC,SAAR,EAA5B;;AACA,UAAID,aAAJ,EAAmB;AACjB,aAAKhB,gBAAL,GAAwB,IAAxB;AACF;AACD;;AA/BM;AAjDI,CAAf","names":["useVuelidate","required","email","ViaCepAPI","CheckoutSuccess","components","setup","v$","data","name","cpf","birthday","tel","address","cep","completeAddress","number","complement","district","city","state","cepError","viewSuccessModal","validations","methods","closeModal","getCep","then","response","erro","bairro","complemento","localidade","logradouro","uf","console","log","submitForm","isFormCorrect","$validate"],"sourceRoot":"","sources":["C:\\Users\\dragu\\Dev\\Desafios\\ow-interactive-desafio\\src\\views\\CheckoutPage.vue"],"sourcesContent":["<template>\r\n  <section class=\"container checkout\">\r\n    <form @submit.prevent=\"submitForm\">\r\n      <div class=\"row\">\r\n        <div class=\"col-12 col-md-6\">\r\n          <div class=\"row\">\r\n            <div class=\"col-12\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">Nome *</label>\r\n                <input type=\"text\" v-model=\"v$.name.$model\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">E-mail *</label>\r\n                <input type=\"email\" v-model=\"v$.email.$model\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">CPF *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  v-model=\"v$.cpf.$model\"\r\n                  v-maska=\"'###.###.###-##'\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-6\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">Data de Nascimento *</label>\r\n                <input type=\"date\" v-model=\"v$.birthday.$model\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-6\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">Telefone *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  v-model=\"v$.tel.$model\"\r\n                  v-maska=\"'(##) #####-####'\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-12 col-md-6\">\r\n          <div class=\"row\">\r\n            <div class=\"col-12\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">CEP *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  v-maska=\"'#####-###'\"\r\n                  v-model=\"v$.address.cep.$model\"\r\n                  @change=\"getCep\"\r\n                />\r\n                <span v-if=\"cepError\">CEP não encontrado!</span>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-8\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">Endereço *</label>\r\n                <input\r\n                  type=\"text\"\r\n                  v-model=\"v$.address.completeAddress.$model\"\r\n                />\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-4\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">Número *</label>\r\n                <input type=\"text\" v-model=\"v$.address.number.$model\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-6\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">Complemento</label>\r\n                <input type=\"text\" v-model=\"v$.address.complement.$model\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-6\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">Bairro *</label>\r\n                <input type=\"text\" v-model=\"v$.address.district.$model\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-8\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">Cidade *</label>\r\n                <input type=\"text\" v-model=\"v$.address.city.$model\" />\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12 col-md-4\">\r\n              <div class=\"checkout__group\">\r\n                <label for=\"\">Estado *</label>\r\n                <input type=\"text\" v-model=\"v$.address.state.$model\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"row justify-content-end\">\r\n        <div class=\"col-12 col-sm-2\">\r\n          <button :disabled=\"v$.$invalid\" class=\"checkout__button\">\r\n            Concluir compra\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </section>\r\n  <CheckoutSuccess v-on=\"closeModal\" v-if=\"viewSuccessModal\"></CheckoutSuccess>\r\n</template>\r\n\r\n<script>\r\nimport useVuelidate from \"@vuelidate/core\";\r\nimport { required, email } from \"@vuelidate/validators\";\r\nimport ViaCepAPI from \"@/services/viacep\";\r\nimport CheckoutSuccess from \"@/components/CheckoutSuccess.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    CheckoutSuccess,\r\n  },\r\n\r\n  setup() {\r\n    return { v$: useVuelidate() };\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      name: \"\",\r\n      email: \"\",\r\n      cpf: \"\",\r\n      birthday: \"\",\r\n      tel: \"\",\r\n      address: {\r\n        cep: \"\",\r\n        completeAddress: \"\",\r\n        number: \"\",\r\n        complement: \"\",\r\n        district: \"\",\r\n        city: \"\",\r\n        state: \"\",\r\n      },\r\n      cepError: false,\r\n      viewSuccessModal: false,\r\n    };\r\n  },\r\n\r\n  validations() {\r\n    return {\r\n      name: { required },\r\n      email: { required, email },\r\n      cpf: { required },\r\n      birthday: { required },\r\n      tel: { required },\r\n      address: {\r\n        cep: { required },\r\n        completeAddress: { required },\r\n        number: { required },\r\n        complement: {},\r\n        district: { required },\r\n        city: { required },\r\n        state: { required },\r\n      },\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    closeModal() {\r\n      this.viewSuccessModal = false;\r\n    },\r\n\r\n    getCep() {\r\n      ViaCepAPI.getCep(this.address.cep).then((response) => {\r\n        if (!response.data.erro) {\r\n          this.cepError = false;\r\n          const { bairro, complemento, localidade, logradouro, uf, cep } =\r\n            response.data;\r\n          this.address = {\r\n            cep: cep,\r\n            completeAddress: logradouro,\r\n            complement: complemento,\r\n            district: bairro,\r\n            city: localidade,\r\n            state: uf,\r\n          };\r\n        } else {\r\n          this.cepError = true;\r\n        }\r\n        console.log(response);\r\n      });\r\n    },\r\n\r\n    async submitForm() {\r\n      const isFormCorrect = await this.v$.$validate();\r\n      if (isFormCorrect) {\r\n        this.viewSuccessModal = true;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.checkout {\r\n  flex: 1;\r\n  margin-top: 64px;\r\n  &__group {\r\n    margin-top: 24px;\r\n    label {\r\n      font-weight: 600;\r\n      display: block;\r\n      color: #434343;\r\n    }\r\n    input {\r\n      color: #434343;\r\n      width: 100%;\r\n      outline: none;\r\n      border: 1px solid #909090;\r\n      border-radius: 4px;\r\n      padding: 4px 8px;\r\n    }\r\n    span {\r\n      font-size: 12px;\r\n      color: #c31717;\r\n    }\r\n  }\r\n  &__button {\r\n    width: 100%;\r\n    border-radius: 4px;\r\n    padding: 8px 16px;\r\n    background: #8e36b7;\r\n    border: 1px solid #8e36b7;\r\n    color: #fff;\r\n    margin-top: 24px;\r\n\r\n    &:disabled {\r\n      opacity: 0.6;\r\n      cursor: not-allowed;\r\n    }\r\n  }\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}